<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø°Ø§Ú©Ø±Ø§Øª | Ù†Ø³Ø®Ù‡ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            width: 100%;
            max-width: 500px;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            animation: fadeIn 0.8s ease-out;
            position: relative;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .header {
            background: linear-gradient(to right, #1a2980, #26d0ce);
            color: white;
            text-align: center;
            padding: 25px 20px;
            position: relative;
        }
        
        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .form-section {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-section-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: #1a2980;
            border-bottom: 2px solid #26d0ce;
            padding-bottom: 8px;
        }
        
        .form-section-title i {
            margin-left: 10px;
        }
        
        .input-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 15px 15px 15px 45px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s;
            background-color: white;
            appearance: none;
        }
        
        .input-group i {
            position: absolute;
            left: 15px;
            top: 42px;
            font-size: 20px;
            color: #1a2980;
        }
        
        .input-group input:focus, .input-group select:focus {
            border-color: #1a2980;
            outline: none;
            box-shadow: 0 0 0 3px rgba(26, 41, 128, 0.2);
        }
        
        .input-group select {
            cursor: pointer;
        }
        
        .select-arrow {
            position: absolute;
            right: 15px;
            top: 42px;
            font-size: 16px;
            color: #1a2980;
            pointer-events: none;
        }
        
        .camera-section {
            margin-bottom: 25px;
            display: none;
        }
        
        .camera-container {
            position: relative;
            width: 100%;
            height: 280px;
            background-color: #0f172a;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            border: 3px solid #1a2980;
        }
        
        #camera-feed {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }
        
        .camera-placeholder {
            text-align: center;
            padding: 20px;
        }
        
        .camera-placeholder i {
            font-size: 64px;
            margin-bottom: 15px;
            color: #26d0ce;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }
        
        .camera-controls {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(to right, #1a2980, #26d0ce);
            color: white;
            flex: 1;
        }
        
        .btn-secondary {
            background-color: #f1f2f6;
            color: #2f3542;
            flex: 1;
        }
        
        .btn-tertiary {
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            color: white;
            width: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(26, 41, 128, 0.4);
        }
        
        .btn-secondary:hover {
            background-color: #dfe4ea;
        }
        
        .btn-tertiary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(255, 126, 95, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .location-section {
            background-color: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            animation: slideIn 0.5s ease-out;
        }
        
        .location-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .location-header i {
            font-size: 24px;
            color: #e74c3c;
            margin-left: 10px;
        }
        
        .location-data {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .location-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .location-item:last-child {
            border-bottom: none;
        }
        
        .location-label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .location-value {
            color: #1a2980;
            font-weight: 500;
        }
        
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(0, 176, 155, 0.4);
        }
        
        .submit-btn:disabled {
            background: linear-gradient(to right, #cccccc, #999999);
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }
        
        .status-message {
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
            text-align: center;
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .processing {
            background-color: #cce5ff;
            color: #004085;
            border: 1px solid #b8daff;
        }
        
        .confetti {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }
        
        .camera-rotation-control {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 10;
        }
        
        .dev-credit {
            text-align: center;
            direction: ltr;
            font-size: 14px;
            margin: 15px auto 0;
            padding: 10px 20px;
            background: rgba(38, 208, 206, 0.15);
            border-radius: 10px;
            color: #1a2980;
            font-weight: 600;
            border: 1px solid rgba(26, 41, 128, 0.2);
            display: block;
            width: fit-content;
            max-width: 90%;
            letter-spacing: 0.5px;
        }
        
        .form-section-title h3 {
            font-size: 1.2rem;
        }
        
        .dynamic-field {
            margin-top: 15px;
            animation: fadeIn 0.5s;
        }
        
        .request-type-section {
            background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .request-type-title {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .request-type-options {
            display: flex;
            justify-content: space-around;
            gap: 10px;
        }
        
        .request-type-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .request-type-btn.active {
            background: white;
            color: #1a2980;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .request-type-btn i {
            font-size: 20px;
        }
        
        .section-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #26d0ce, transparent);
            margin: 20px 0;
        }
        
        .user-info {
            text-align: center;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 14px;
            display: none;
        }
        
        .user-info i {
            margin-left: 5px;
            color: #1a2980;
        }
        
        .g_id_signin {
            width: 100%;
            display: flex;
            justify-content: center;
            margin: 10px 0;
        }
        
        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .camera-container {
                height: 220px;
            }
            
            .btn {
                padding: 12px 15px;
                font-size: 14px;
            }
            
            .dev-credit {
                font-size: 11px;
                padding: 5px 8px;
                margin-top: 10px;
            }
            
            .request-type-options {
                flex-direction: column;
            }
            
            .request-type-btn {
                padding: 10px;
            }
        }
        
        .system-disabled-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.85);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            border-radius: 20px;
            text-align: center;
            padding: 20px;
            display: none;
        }
        
        .system-disabled-overlay i {
            font-size: 48px;
            color: #e74c3c;
            margin-bottom: 20px;
        }
        
        .system-disabled-overlay p {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            max-width: 80%;
        }
        
        .manual-input-container {
            display: none;
            margin-top: 15px;
            animation: fadeIn 0.5s;
        }
        
        .manual-input-container input {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 16px;
            width: 100%;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¨Ø®Ø´ Ø¯Ù„Ø§ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„ */
        .disinterest-reason-container {
            display: none;
            margin-top: 15px;
            animation: fadeIn 0.5s;
        }
        
        .disinterest-reason-container label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .disinterest-reason-container select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 16px;
            background-color: white;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ ÙÛŒÙ„Ø¯ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø¯ÛŒÚ¯Ø± */
        .other-software-container {
            display: none;
            margin-top: 15px;
            animation: fadeIn 0.5s;
        }
        
        .other-software-container label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .other-software-container input {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 16px;
            width: 100%;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ */
        .input-error {
            border-color: #e74c3c !important;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.2) !important;
        }
        
        .error-message {
            color: #e74c3c;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ */
        .info-badge {
            background-color: #e3f2fd;
            border-left: 4px solid #1a2980;
            padding: 8px 12px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-badge i {
            color: #1a2980;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="confetti" id="confetti"></div>
    
    <div class="container">
        <div class="system-disabled-overlay" id="system-disabled-overlay">
            <i class="fas fa-power-off"></i>
            <p>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø§Ø² Ø³Ø§Ø¹Øª 00:30 ØªØ§ 5:30 ØµØ¨Ø­ ØºÛŒØ±ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.</p>
        </div>
        
        <div class="header">
            <h1><i class="fas fa-handshake"></i> Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø°Ø§Ú©Ø±Ø§Øª</h1>
            <p>Ø«Ø¨Øª Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø°Ø§Ú©Ø±Ø§Øª Ø­Ø¶ÙˆØ±ÛŒ Ø¨Ø§ ÙˆÙ†Ø¯ÙˆØ±Ù‡Ø§</p>
        </div>
        
        <div class="content">
            <!-- Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± -->
            <div class="user-info" id="user-info">
                <i class="fas fa-user-circle"></i>
                <span id="user-email">Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ø­Ø³Ø§Ø¨ Ø¬ÛŒÙ…ÛŒÙ„ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</span>
            </div>
            
            <!-- Ø¯Ú©Ù…Ù‡ ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø¬ÛŒÙ…ÛŒÙ„ -->
            <div class="g_id_signin"
                data-type="standard"
                data-size="large"
                data-theme="outline"
                data-text="sign_in_with"
                data-shape="rectangular"
                data-logo_alignment="left"
                data-width="300">
            </div>
            
            <!-- Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª -->
            <div class="request-type-section">
                <div class="request-type-title">
                    <h3>Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</h3>
                </div>
                <div class="request-type-options">
                    <button class="request-type-btn" id="start-btn" data-type="start">
                        <i class="fas fa-play-circle"></i>
                        <span>Ø´Ø±ÙˆØ¹ Ù…Ø°Ø§Ú©Ø±Ù‡</span>
                    </button>
                    <button class="request-type-btn" id="end-btn" data-type="end">
                        <i class="fas fa-flag-checkered"></i>
                        <span>Ù¾Ø§ÛŒØ§Ù† Ù…Ø°Ø§Ú©Ø±Ù‡</span>
                    </button>
                </div>
            </div>
            
            <!-- Ø¨Ø®Ø´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ -->
            <div class="form-section">
                <div class="form-section-title">
                    <i class="fas fa-info-circle"></i>
                    <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡</h3>
                </div>
                
                <!-- Ø§Ø³ØªØ§Ù† -->
                <div class="input-group">
                    <label for="province"><i class="fas fa-map-marker-alt"></i> Ø§Ø³ØªØ§Ù†</label>
                    <i class="fas fa-globe-asia"></i>
                    <select id="province">
                        <option value="" selected disabled>Ø§Ø³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                        <option value="ØªÙ‡Ø±Ø§Ù†">ØªÙ‡Ø±Ø§Ù†</option>
                        <option value="Ø®Ø±Ø§Ø³Ø§Ù†">Ø®Ø±Ø§Ø³Ø§Ù†</option>
                        <option value="ÙØ§Ø±Ø³">ÙØ§Ø±Ø³</option>
                        <option value="Ø®ÙˆØ²Ø³ØªØ§Ù†">Ø®ÙˆØ²Ø³ØªØ§Ù†</option>
                        <option value="Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ">Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ</option>
                        <option value="Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†">Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†</option>
                        <option value="Ú¯ÛŒÙ„Ø§Ù†">Ú¯ÛŒÙ„Ø§Ù†</option>
                        <option value="Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†">Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†</option>
                        <option value="Ø§ØµÙÙ‡Ø§Ù†">Ø§ØµÙÙ‡Ø§Ù†</option>
                        <option value="Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ">Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ</option>
                        <option value="Ø§Ø±Ø¯Ø¨ÛŒÙ„">Ø§Ø±Ø¯Ø¨ÛŒÙ„</option>
                        <option value="Ù‚Ù…">Ù‚Ù…</option>
                        <option value="Ø§Ù„Ø¨Ø±Ø²">Ø§Ù„Ø¨Ø±Ø²</option>
                        <option value="Ú¯Ù„Ø³ØªØ§Ù†">Ú¯Ù„Ø³ØªØ§Ù†</option>
                        <option value="Ú©Ø±Ù…Ø§Ù†">Ú©Ø±Ù…Ø§Ù†</option>
                        <option value="ÛŒØ²Ø¯">ÛŒØ²Ø¯</option>
                    </select>
                    <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                
                <!-- Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ (ØªØºÛŒÛŒØ± Ø¨Ù‡ Ø¯Ø±Ø§Ù¾â€ŒØ¯Ø§Ù†) -->
                <div class="input-group">
                    <label for="marketer-name"><i class="fas fa-user-tie"></i> Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨</label>
                    <i class="fas fa-user"></i>
                    <select id="marketer-name">
                        <option value="" selected disabled>Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                        <option value="Ø¢Ø±Ø²Ùˆ Ø¶Ø±ØºØ§Ù…ÛŒ - Ø´ÛŒØ±Ø§Ø²">Ø¢Ø±Ø²Ùˆ Ø¶Ø±ØºØ§Ù…ÛŒ - Ø´ÛŒØ±Ø§Ø²</option>
                        <option value="Ù‡Ø§Ù†ÛŒÙ‡ Ù†Ú˜Ø§Ø¯Ø¹Ù„ÛŒ - Ø´ÛŒØ±Ø§Ø²">Ù‡Ø§Ù†ÛŒÙ‡ Ù†Ú˜Ø§Ø¯Ø¹Ù„ÛŒ - Ø´ÛŒØ±Ø§Ø²</option>
                        <option value="Ø§Ù„Ù‡Ù‡ ÙÛŒØ±ÙˆØ²ÛŒ - ØªÙ‡Ø±Ø§Ù†">Ø§Ù„Ù‡Ù‡ ÙÛŒØ±ÙˆØ²ÛŒ - ØªÙ‡Ø±Ø§Ù†</option>
                        <option value="Ø¢ØªÙ†Ø§ Ø´ÛŒØ±ÛŒ - ØªÙ‡Ø±Ø§Ù†">Ø¢ØªÙ†Ø§ Ø´ÛŒØ±ÛŒ - ØªÙ‡Ø±Ø§Ù†</option>
                        <option value="Ù‡Ø³ØªÛŒ Ø§Ú©Ø¨Ø±ÛŒ - ØªÙ‡Ø±Ø§Ù†">Ù‡Ø³ØªÛŒ Ø§Ú©Ø¨Ø±ÛŒ - ØªØ¨Ø±ÛŒØ²</option>
                        <option value="Ø¨Ù‡Ù†Ø§Ø² Ø¯Ø§ÙˆÙˆØ¯ÛŒ - Ù…Ø´Ù‡Ø¯">Ø¨Ù‡Ù†Ø§Ø² Ø¯Ø§ÙˆÙˆØ¯ÛŒ - Ù…Ø´Ù‡Ø¯</option>
                        <option value="Ù†ÙÛŒØ³Ù‡ Ù‚Ø±Ø¨Ø§Ù†ÛŒ - Ù…Ø´Ù‡Ø¯">Ù†ÙÛŒØ³Ù‡ Ù‚Ø±Ø¨Ø§Ù†ÛŒ - Ù…Ø´Ù‡Ø¯</option>
                        <option value="Ø§Ø³Ù…Ø§ Ø³Ø¹ÛŒØ¯ÛŒ Ú©ÙˆØ´Ø§ - Ù…Ø´Ù‡Ø¯">Ø³Ù…Ø§ Ø³Ø¹ÛŒØ¯ÛŒ Ú©ÙˆØ´Ø§ - Ù…Ø´Ù‡Ø¯</option>
                        <option value="Ù…Ù‡Ø¯ÛŒ Ø¹Ø±ÙØ§Ù†ÛŒØ§Ù† - Ù…Ø´Ù‡Ø¯">Ù…Ù‡Ø¯ÛŒ Ø¹Ø±ÙØ§Ù†ÛŒØ§Ù† - Ù…Ø´Ù‡Ø¯</option>
                        <option value="Ø±Ø¶Ø§ Ø±Ø§Ù‡Ø¯Ø§Ø±ÛŒ - Ú¯Ø±Ú¯Ø§Ù†">Ø±Ø¶Ø§ Ø±Ø§Ù‡Ø¯Ø§Ø±ÛŒ - Ú¯Ù†Ø¨Ø¯Ú©Ø§ÙˆÙˆØ³</option>
                        <option value="ÙØ±ÛŒØ¨Ø±Ø² ÙÙ‡ÛŒÙ…ÛŒ - Ø³Ø§Ø±ÛŒ">ÙØ±ÛŒØ¨Ø±Ø² ÙÙ‡ÛŒÙ…ÛŒ - Ø³Ø§Ø±ÛŒ</option>
                        <option value="Ù…Ù‡Ø¯ÛŒ Ù¾ÛŒÙ„ØªÙ† - Ú©Ø±Ø¬">Ù…Ù‡Ø¯ÛŒ Ù¾ÛŒÙ„ØªÙ† - Ú©Ø±Ø¬</option>
                        <option value="ÛŒØ§Ø³ÛŒÙ† ÙØ§Ù…ÙˆØ±ÛŒ - Ú©Ø±Ø¬">ÛŒØ§Ø³ÛŒÙ† ÙØ§Ù…ÙˆØ±ÛŒ - Ú©Ø±Ø¬</option>
                        <option value="Ø²Ù‡Ø±Ø§ Ù…ÙˆØ³ÙˆÛŒ Ú¯Ù„Ø²Ø§Ø± - Ú©Ø±Ø¬">Ø²Ù‡Ø±Ø§ Ù…ÙˆØ³ÙˆÛŒ Ú¯Ù„Ø²Ø§Ø± - Ú©Ø±Ø¬</option>
                        <option value="Ø²Ù‡Ø±Ø§ ÙØ±Ø®Ù†Ø¯Ù‡ - Ø±Ø´Øª">Ø²Ù‡Ø±Ø§ ÙØ±Ø®Ù†Ø¯Ù‡ - Ø±Ø´Øª</option>
                        <option value="Ù…ÛŒÙ„Ø§Ø¯ Ù…Ø­Ù…Ø¯ÛŒØ§Ù† - ÛŒØ²Ø¯">Ù…ÛŒÙ„Ø§Ø¯ Ù…Ø­Ù…Ø¯ÛŒØ§Ù† - ÛŒØ²Ø¯</option>
                        <option value="Ø´Ø§ÛŒØ§Ù† ØªØ±Ú© Ø¢Ø¨Ø§Ø¯ÛŒ - Ú©Ø±Ù…Ø§Ù†">Ø´Ø§ÛŒØ§Ù† ØªØ±Ú© Ø¢Ø¨Ø§Ø¯ÛŒ - Ú©Ø±Ù…Ø§Ù†</option>
                        <option value="Ø­Ø³ÛŒÙ† Ø¬Ø¹ÙØ±ÛŒ - Ú©Ø±Ù…Ø§Ù†">Ø­Ø³ÛŒÙ† Ø¬Ø¹ÙØ±ÛŒ - Ú©Ø±Ù…Ø§Ù†</option>
                    </select>
                    <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                
                <!-- Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡ -->
                <div class="input-group" id="business-type-container">
                    <label for="business-type"><i class="fas fa-store"></i> Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡</label>
                    <i class="fas fa-building"></i>
                    <select id="business-type">
                        <option value="" selected disabled>Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                        <option value="ÙØ³Øª ÙÙˆØ¯">ÙØ³Øª ÙÙˆØ¯</option>
                        <option value="Ø±Ø³ØªÙˆØ±Ø§Ù†">Ø±Ø³ØªÙˆØ±Ø§Ù†</option>
                        <option value="Ú©Ø§ÙÙ‡">Ú©Ø§ÙÙ‡</option>
                        <option value="Ø¨ÛŒØ±ÙˆÙ† Ø¨Ø±">Ø¨ÛŒØ±ÙˆÙ† Ø¨Ø±</option>
                        <option value="Ú©Ø¨Ø§Ø¨ÛŒ">Ú©Ø¨Ø§Ø¨ÛŒ</option>
                        <option value="Ø¢Ø¯Ø± Ø³Ø±ÙˆÛŒØ³">Ø¢Ø¯Ø± Ø³Ø±ÙˆÛŒØ³</option>
                    </select>
                    <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                
                <!-- Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ -->
                <div class="input-group" id="business-name-container">
                    <label for="business-name"><i class="fas fa-signature"></i> Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡</label>
                    <i class="fas fa-file-signature"></i>
                    <input type="text" id="business-name" placeholder="Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù†Ù…Ø§ÛŒÛŒØ¯...">
                </div>
            </div>
            
            <!-- Ø¨Ø®Ø´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒØ§Ù† Ù…Ø°Ø§Ú©Ø±Ù‡ -->
            <div class="form-section" id="end-negotiation-section">
                <div class="form-section-title">
                    <i class="fas fa-clipboard-check"></i>
                    <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒØ§Ù† Ù…Ø°Ø§Ú©Ø±Ù‡</h3>
                </div>
                
                <!-- Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ (ÙÙ‚Ø· Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ù…Ø°Ø§Ú©Ø±Ù‡) -->
                <div class="input-group" id="business-name-end-container">
                    <label for="business-name-end"><i class="fas fa-store"></i> Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡</label>
                    <i class="fas fa-building"></i>
                    <select id="business-name-end">
                        <option value="" selected disabled>Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ø§Ø³ØªØ§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                    </select>
                    <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
                    <div class="info-badge">
                        <i class="fas fa-info-circle"></i>
                        <span>Ø§Ú¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¯Ø± Ù„ÛŒØ³Øª Ù†ÛŒØ³ØªØŒ Ú¯Ø²ÛŒÙ†Ù‡ "ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡" Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</span>
                    </div>
                </div>
                
                <!-- Ø§Ù…Ú©Ø§Ù† ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ -->
                <div class="manual-input-container" id="manual-input-container">
                    <label for="manual-business-name"><i class="fas fa-pen"></i> Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</label>
                    <input type="text" id="manual-business-name" placeholder="Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù†Ù…Ø§ÛŒÛŒØ¯...">
                </div>
                
                <!-- Ù†Ø§Ù… Ù…Ø¯ÛŒØ±ÛŒØª -->
                <div class="input-group">
                    <label for="manager-name"><i class="fas fa-user-tie"></i> Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª</label>
                    <i class="fas fa-user"></i>
                    <input type="text" id="manager-name" placeholder="Ù†Ø§Ù… Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù†Ù…Ø§ÛŒÛŒØ¯...">
                </div>
                
                <!-- Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ù…Ø¯ÛŒØ±ÛŒØª -->
                <div class="input-group">
                    <label for="manager-phone"><i class="fas fa-phone-alt"></i> Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ù…Ø¯ÛŒØ±ÛŒØª</label>
                    <i class="fas fa-mobile-alt"></i>
                    <input type="text" id="manager-phone" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù†Ù…Ø§ÛŒÛŒØ¯..." maxlength="11">
                    <div class="error-message" id="phone-error">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¨Ø§ÛŒØ¯ 11 Ø±Ù‚Ù…ÛŒ Ùˆ ÙÙ‚Ø· Ø´Ø§Ù…Ù„ Ø¹Ø¯Ø¯ Ø¨Ø§Ø´Ø¯</div>
                </div>
                
                <!-- Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± ÙØ¹Ù„ÛŒ -->
                <div class="input-group">
                    <label for="vendor-software"><i class="fas fa-laptop-code"></i> Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± ÙØ¹Ù„ÛŒ</label>
                    <i class="fas fa-code"></i>
                    <select id="vendor-software">
                        <option value="" selected disabled>Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± ÙØ¹Ù„ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                        <option value="Ø³Ù¾ÛŒØ¯Ø²">Ø³Ù¾ÛŒØ¯Ø²</option>
                        <option value="Ø²Ø¹ÙØ±Ø§Ù†">Ø²Ø¹ÙØ±Ø§Ù†</option>
                        <option value="Ù…Ø·Ø¨Ø®">Ù…Ø·Ø¨Ø®</option>
                        <option value="Ø­Ø§Ù…ÛŒ">Ø­Ø§Ù…ÛŒ</option>
                        <option value="Ù¾Ø§Ø±Ø³ÛŒØ§Ù†">Ù¾Ø§Ø±Ø³ÛŒØ§Ù†</option>
                        <option value="Ø¢Ø±ÛŒØ§">Ø¢Ø±ÛŒØ§</option>
                        <option value="Ø¨Ø§Ø±Ø§Ù†">Ø¨Ø§Ø±Ø§Ù†</option>
                        <option value="ÙÙˆØ¯ Ø³Ø§ÙØª">ÙÙˆØ¯ Ø³Ø§ÙØª</option>
                        <option value="Ø³Ø§ÛŒØ±">Ø³Ø§ÛŒØ±</option>
                        <option value="ÙØ§Ù‚Ø¯ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø±">ÙØ§Ù‚Ø¯ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø±</option>
                    </select>
                    <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                
                <!-- ÙÛŒÙ„Ø¯ Ù†Ø§Ù… Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø¯Ø± ØµÙˆØ±Øª Ø§Ù†ØªØ®Ø§Ø¨ "Ø³Ø§ÛŒØ±" -->
                <div class="other-software-container" id="other-software-container">
                    <label for="other-software-name"><i class="fas fa-laptop"></i> Ù†Ø§Ù… Ù†Ø±Ù… Ø§ÙØ²Ø§Ø±</label>
                    <input type="text" id="other-software-name" placeholder="Ù†Ø§Ù… Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù†Ù…Ø§ÛŒÛŒØ¯...">
                </div>
                
                <!-- Ù†ØªÛŒØ¬Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡ -->
                <div class="input-group">
                    <label for="negotiation-result"><i class="fas fa-poll"></i> Ù†ØªÛŒØ¬Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡</label>
                    <i class="fas fa-chart-line"></i>
                    <select id="negotiation-result">
                        <option value="" selected disabled>Ù†ØªÛŒØ¬Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                        <option value="Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„ Ø¨Ø³ØªÙ‡ Ø´Ø¯">Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„ Ø¨Ø³ØªÙ‡ Ø´Ø¯</option>
                        <option value="Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù†Ø§Ù‚Øµ Ø¨Ø³ØªÙ‡ Ø´Ø¯(Ø¹Ø¯Ù… ØªÚ©Ù…ÛŒÙ„ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ ÛŒØ§ Ø¹Ø¯Ù… Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚)">Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù†Ø§Ù‚Øµ Ø¨Ø³ØªÙ‡ Ø´Ø¯(Ø¹Ø¯Ù… ØªÚ©Ù…ÛŒÙ„ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ ÛŒØ§ Ø¹Ø¯Ù… Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚)</option>
                        <option value="Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡ Ù…Ø¬Ø¯Ø¯">Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡ Ù…Ø¬Ø¯Ø¯</option>
                        <option value="Ø¹Ø¯Ù… Ø­Ø¶ÙˆØ± Ù…Ø¯ÛŒØ±ÛŒØª">Ø¹Ø¯Ù… Ø­Ø¶ÙˆØ± Ù…Ø¯ÛŒØ±ÛŒØª</option>
                        <option value="ØªØ¹Ø·ÛŒÙ„ÛŒ Ø¯Ø§Ø¦Ù…">ØªØ¹Ø·ÛŒÙ„ÛŒ Ø¯Ø§Ø¦Ù…</option>
                        <option value="ØªØ¹Ø·ÛŒÙ„ÛŒ Ù…ÙˆÙ‚Øª(ØªØ¹Ù…ÛŒØ±Ø§ØªØŒ ØªØºÛŒÛŒØ±Ø§Øª Ø¢Ø¯Ø±Ø³ØŒ ...)">ØªØ¹Ø·ÛŒÙ„ÛŒ Ù…ÙˆÙ‚Øª(ØªØ¹Ù…ÛŒØ±Ø§ØªØŒ ØªØºÛŒÛŒØ±Ø§Øª Ø¢Ø¯Ø±Ø³ØŒ ...)</option>
                        <option value="Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø§Ø³ØªÙˆØ± Ø±Ø§ Ù†ØµØ¨ Ø¯Ø§Ø±Ø¯">Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø§Ø³ØªÙˆØ± Ø±Ø§ Ù†ØµØ¨ Ø¯Ø§Ø±Ø¯</option>
                        <option value="Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„">Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„</option>
                    </select>
                    <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
                </div>
                
                <!-- Ø¨Ø®Ø´ Ø¯Ù„Ø§ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„ -->
                <div class="disinterest-reason-container" id="disinterest-reason-container">
                    <label for="disinterest-reason"><i class="fas fa-exclamation-circle"></i> Ø¯Ù„ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„</label>
                    <select id="disinterest-reason">
                        <option value="" selected disabled>Ø¯Ù„ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                        <option value="Ù‚ÛŒÙ…Øª Ø¨Ø§Ù„Ø§ÛŒ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø±">Ù‚ÛŒÙ…Øª Ø¨Ø§Ù„Ø§ÛŒ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø±</option>
                        <option value="Ù†Ø¯Ø§Ø´ØªÙ† Ø§ÛŒÙ†ØªØ±Ù†Øª Ùˆ Ø³ÛŒØ³ØªÙ…">Ù†Ø¯Ø§Ø´ØªÙ† Ø§ÛŒÙ†ØªØ±Ù†Øª Ùˆ Ø³ÛŒØ³ØªÙ…</option>
                        <option value="ØªÙ…Ø§ÛŒÙ„ Ø¨Ù‡ Ø±ÙˆØ´ Ø³Ù†ØªÛŒ">ØªÙ…Ø§ÛŒÙ„ Ø¨Ù‡ Ø±ÙˆØ´ Ø³Ù†ØªÛŒ</option>
                        <option value="Ø¹Ø¯Ù… Ù…ÙˆØ§ÙÙ‚Øª Ø¨Ø§ Ø­Ø°Ù Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ù‚Ø¨Ù„ÛŒ">Ø¹Ø¯Ù… Ù…ÙˆØ§ÙÙ‚Øª Ø¨Ø§ Ø­Ø°Ù Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ù‚Ø¨Ù„ÛŒ</option>
                        <option value="Ù†ÛŒØ§Ø² Ø¨Ù‡ ÙÛŒÚ†Ø± Ø®Ø§Øµ">Ù†ÛŒØ§Ø² Ø¨Ù‡ ÙÛŒÚ†Ø± Ø®Ø§Øµ</option>
                    </select>
                </div>
            </div>
            
            <div class="section-divider"></div>
            
            <!-- Ø¨Ø®Ø´ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ùˆ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÛŒØ§Ø¨ÛŒ -->
            <div class="camera-section" id="camera-section">
                <div class="camera-container">
                    <div class="camera-placeholder">
                        <i class="fas fa-camera"></i>
                        <p>Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¹Ù‚Ø¨ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª</p>
                    </div>
                    <video id="camera-feed" autoplay playsinline></video>
                    <div class="camera-rotation-control" id="rotate-camera">
                        <i class="fas fa-sync-alt"></i>
                    </div>
                </div>
                
                <div class="camera-controls">
                    <button id="start-camera" class="btn btn-primary">
                        <i class="fas fa-video"></i> ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†
                    </button>
                    <button id="capture-btn" class="btn btn-secondary" disabled>
                        <i class="fas fa-camera-retro"></i> Ø¹Ú©Ø³â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ
                    </button>
                </div>
            </div>
            
            <div class="location-section" id="location-section">
                <div class="location-header">
                    <h3><i class="fas fa-map-marker-alt"></i> Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</h3>
                </div>
                <div class="location-data">
                    <div class="location-item">
                        <span class="location-label">Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ:</span>
                        <span id="latitude-value" class="location-value">---</span>
                    </div>
                    <div class="location-item">
                        <span class="location-label">Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ:</span>
                        <span id="longitude-value" class="location-value">---</span>
                    </div>
                    <div class="location-item">
                        <span class="location-label">Ø¯Ù‚Øª Ù…ÙˆÙ‚Ø¹ÛŒØª:</span>
                        <span id="accuracy-value" class="location-value">---</span>
                    </div>
                </div>
                
                <!-- Ø¯Ú©Ù…Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ -->
                <button id="get-location-btn" class="btn btn-tertiary">
                    <i class="fas fa-location-arrow"></i> Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
                </button>
            </div>
            
            <button id="submit-btn" class="submit-btn" disabled>
                <i class="fas fa-paper-plane"></i> Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
            </button>
            
            <div id="status-message" class="status-message"></div>
            
            <!-- Ù…ØªÙ† ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ -->
            <div class="dev-credit">
                Dev by:<br>
                Snapp North Zone Sales HQ<br>
                ØªÛŒÙ… ÙØ±ÙˆØ´ Ø´Ù…Ø§Ù„ Ú©Ø´ÙˆØ±<br>
                ğŸ’</span>
            </div>
        </div>
    </div>

    <script>
        // Ø¹Ù†Ø§ØµØ± DOM
        const provinceSelect = document.getElementById('province');
        const marketerNameSelect = document.getElementById('marketer-name');
        const businessTypeContainer = document.getElementById('business-type-container');
        const businessTypeSelect = document.getElementById('business-type');
        const businessNameContainer = document.getElementById('business-name-container');
        const businessNameInput = document.getElementById('business-name');
        const businessNameEndContainer = document.getElementById('business-name-end-container');
        const businessNameEndSelect = document.getElementById('business-name-end');
        const manualInputContainer = document.getElementById('manual-input-container');
        const manualBusinessNameInput = document.getElementById('manual-business-name');
        const endNegotiationSection = document.getElementById('end-negotiation-section');
        const vendorSoftwareSelect = document.getElementById('vendor-software');
        const otherSoftwareContainer = document.getElementById('other-software-container');
        const otherSoftwareNameInput = document.getElementById('other-software-name');
        const negotiationResultSelect = document.getElementById('negotiation-result');
        const disinterestReasonContainer = document.getElementById('disinterest-reason-container');
        const disinterestReasonSelect = document.getElementById('disinterest-reason');
        const managerNameInput = document.getElementById('manager-name');
        const managerPhoneInput = document.getElementById('manager-phone');
        const phoneError = document.getElementById('phone-error');
        const startBtn = document.getElementById('start-btn');
        const endBtn = document.getElementById('end-btn');
        const startCameraBtn = document.getElementById('start-camera');
        const captureBtn = document.getElementById('capture-btn');
        const cameraFeed = document.getElementById('camera-feed');
        const submitBtn = document.getElementById('submit-btn');
        const statusMessage = document.getElementById('status-message');
        const latitudeValue = document.getElementById('latitude-value');
        const longitudeValue = document.getElementById('longitude-value');
        const accuracyValue = document.getElementById('accuracy-value');
        const confettiElement = document.getElementById('confetti');
        const rotateCameraBtn = document.getElementById('rotate-camera');
        const getLocationBtn = document.getElementById('get-location-btn');
        const systemDisabledOverlay = document.getElementById('system-disabled-overlay');
        const cameraSection = document.getElementById('camera-section');
        const locationSection = document.getElementById('location-section');
        const userInfo = document.getElementById('user-info');
        const userEmail = document.getElementById('user-email');
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ ÙˆØ¶Ø¹ÛŒØª
        let stream = null;
        let locationData = null;
        let currentCameraMode = "environment"; // Ø­Ø§Ù„Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¹Ù‚Ø¨
        let currentRequestType = null; // 'start', 'end'
        let negotiationType = "Ø­Ø¶ÙˆØ±ÛŒ"; // ÙÙ‚Ø· Ù…Ø°Ø§Ú©Ø±Ù‡ Ø­Ø¶ÙˆØ±ÛŒ
        let user = null;
        let businessList = [];
        let usingManualInput = false;
        
        // Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù…Ø§ÛŒØ´ Ø¯Ù„Ø§ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„
        negotiationResultSelect.addEventListener('change', function() {
            if (this.value === "Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„") {
                disinterestReasonContainer.style.display = 'block';
            } else {
                disinterestReasonContainer.style.display = 'none';
                disinterestReasonSelect.selectedIndex = 0;
            }
        });
        
        // Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯ Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø¯ÛŒÚ¯Ø±
        vendorSoftwareSelect.addEventListener('change', function() {
            if (this.value === "Ø³Ø§ÛŒØ±") {
                otherSoftwareContainer.style.display = 'block';
            } else {
                otherSoftwareContainer.style.display = 'none';
                otherSoftwareNameInput.value = '';
            }
        });
        
        // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„
        managerPhoneInput.addEventListener('input', function() {
            // Ø­Ø°Ù Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ ØºÛŒØ±Ø¹Ø¯Ø¯ÛŒ
            this.value = this.value.replace(/\D/g, '');
            
            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„
            validatePhone();
        });
        
        function validatePhone() {
            const phone = managerPhoneInput.value;
            
            // Ø¨Ø±Ø±Ø³ÛŒ Ø·ÙˆÙ„ Ø´Ù…Ø§Ø±Ù‡
            if (phone.length !== 11) {
                managerPhoneInput.classList.add('input-error');
                phoneError.style.display = 'block';
                return false;
            }
            
            // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ÙÙ‚Ø· Ø¹Ø¯Ø¯ Ø§Ø³Øª
            if (!/^\d+$/.test(phone)) {
                managerPhoneInput.classList.add('input-error');
                phoneError.style.display = 'block';
                return false;
            }
            
            managerPhoneInput.classList.remove('input-error');
            phoneError.style.display = 'none';
            return true;
        }
        
        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§
        function updateBusinessNames() {
            // ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù¾Ø§ÛŒØ§Ù† Ù…Ø°Ø§Ú©Ø±Ù‡ Ùˆ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø§Ø³ØªØ§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            if (currentRequestType === 'end' && provinceSelect.value) {
                loadBusinessNames(provinceSelect.value);
            }
        }
        
        // Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
        function updateFormFields() {
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§
            businessTypeContainer.style.display = 'none';
            businessNameContainer.style.display = 'none';
            endNegotiationSection.style.display = 'none';
            businessNameEndContainer.style.display = 'none';
            manualInputContainer.style.display = 'none';
            disinterestReasonContainer.style.display = 'none';
            otherSoftwareContainer.style.display = 'none';
            
            // Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
            if (currentRequestType === 'start') {
                businessTypeContainer.style.display = 'block';
                businessNameContainer.style.display = 'block';
            } else if (currentRequestType === 'end') {
                endNegotiationSection.style.display = 'block';
                businessNameEndContainer.style.display = 'block';
                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„ÛŒØ³Øª Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§
                updateBusinessNames();
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¯ÙˆØ±Ø¨ÛŒÙ† ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø°Ø§Ú©Ø±Ø§Øª Ø­Ø¶ÙˆØ±ÛŒ Ø´Ø±ÙˆØ¹
            if (currentRequestType === 'start') {
                cameraSection.style.display = 'block';
            } else {
                cameraSection.style.display = 'none';
            }
            
            // Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÛŒØ§Ø¨ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ù…Ø°Ø§Ú©Ø±Ø§Øª Ø­Ø¶ÙˆØ±ÛŒ
            locationSection.style.display = 'block';
        }
        
        // ØªÙ†Ø¸ÛŒÙ… ÙˆØ¶Ø¹ÛŒØª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
        function setActiveRequestType(type) {
            startBtn.classList.remove('active');
            endBtn.classList.remove('active');
            
            if (type === 'start') {
                startBtn.classList.add('active');
            } else if (type === 'end') {
                endBtn.classList.add('active');
            }
        }
        
        // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
        startBtn.addEventListener('click', () => {
            currentRequestType = 'start';
            setActiveRequestType('start');
            updateFormFields();
            submitBtn.disabled = false;
        });
        
        endBtn.addEventListener('click', () => {
            currentRequestType = 'end';
            setActiveRequestType('end');
            updateFormFields();
            submitBtn.disabled = false;
        });
        
        // ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†
        async function startCamera() {
            try {
                // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯ÙˆØ±Ø¨ÛŒÙ†
                const constraints = {
                    video: {
                        facingMode: currentCameraMode,
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    },
                    audio: false
                };
                
                if (stream) {
                    stream.getTracks().forEach(track => track.stop());
                }
                
                stream = await navigator.mediaDevices.getUserMedia(constraints);
                cameraFeed.srcObject = stream;
                cameraFeed.style.display = 'block';
                document.querySelector('.camera-placeholder').style.display = 'none';
                captureBtn.disabled = false;
                startCameraBtn.disabled = true;
                startCameraBtn.innerHTML = '<i class="fas fa-check"></i> Ø¯ÙˆØ±Ø¨ÛŒÙ† ÙØ¹Ø§Ù„ Ø´Ø¯';
                
                // ØªÙ†Ø¸ÛŒÙ… Ø¹Ù†ÙˆØ§Ù† Ø¯ÙˆØ±Ø¨ÛŒÙ†
                const cameraType = currentCameraMode === "environment" ? "Ø¹Ù‚Ø¨" : "Ø¬Ù„Ùˆ";
                document.querySelector('.camera-placeholder p').textContent = `Ø¯ÙˆØ±Ø¨ÛŒÙ† ${cameraType} ÙØ¹Ø§Ù„ Ø§Ø³Øª`;
                
            } catch (err) {
                showStatus(`Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ†: ${err.message}`, 'error');
                console.error('Ø®Ø·Ø§ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†:', err);
            }
        }
        
        // Ø¯Ú©Ù…Ù‡ Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ±Ø¨ÛŒÙ†
        startCameraBtn.addEventListener('click', startCamera);
        
        // Ø¯Ú©Ù…Ù‡ Ú†Ø±Ø®Ø´ Ø¯ÙˆØ±Ø¨ÛŒÙ†
        rotateCameraBtn.addEventListener('click', () => {
            currentCameraMode = currentCameraMode === "environment" ? "user" : "environment";
            startCamera();
        });
        
        // Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¨Ø§ Ø¯Ú©Ù…Ù‡
        getLocationBtn.addEventListener('click', () => {
            showStatus('Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ...', 'processing');
            getLocationBtn.disabled = true;
            getLocation();
        });
        
        // Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        locationData = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude,
                            accuracy: position.coords.accuracy
                        };
                        
                        latitudeValue.textContent = locationData.latitude.toFixed(6);
                        longitudeValue.textContent = locationData.longitude.toFixed(6);
                        accuracyValue.textContent = `${Math.round(locationData.accuracy)} Ù…ØªØ±`;
                        
                        showStatus('Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯', 'success');
                        getLocationBtn.innerHTML = '<i class="fas fa-check"></i> Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯';
                        
                        // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø§Ø±Ø³Ø§Ù„
                        if (validateForm()) {
                            submitBtn.disabled = false;
                        }
                    },
                    error => {
                        showStatus(`Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª: ${error.message}`, 'error');
                        console.error('Ø®Ø·Ø§ÛŒ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÛŒØ§Ø¨ÛŒ:', error);
                        getLocationBtn.disabled = false;
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            } else {
                showStatus('Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÛŒØ§Ø¨ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯', 'error');
                getLocationBtn.disabled = false;
            }
        }
        
        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø±Ø³ÛŒ Ø²Ù…Ø§Ù† ØºÛŒØ±ÙØ¹Ø§Ù„ (00:30 ØªØ§ 5:30)
        function isInDisabledTime() {
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTotalMinutes = currentHour * 60 + currentMinute;
            
            // Ø¨Ø§Ø²Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„: Ø§Ø² 00:30 ØªØ§ 5:30
            const disableStart = 5 * 60 + 30; // 4:30 (30 Ø¯Ù‚ÛŒÙ‚Ù‡)
            const disableEnd = 6 * 60 + 30;   // 5:30 (330 Ø¯Ù‚ÛŒÙ‚Ù‡)
            
            // Ø§Ú¯Ø± Ø²Ù…Ø§Ù† ÙØ¹Ù„ÛŒ Ø¨ÛŒÙ† 00:30 ØªØ§ 5:30 Ø¨Ø§Ø´Ø¯
            if (currentTotalMinutes >= disableStart && currentTotalMinutes < disableEnd) {
                return true;
            }
            return false;
        }
        
        // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ±Ù…
        function validateForm() {
            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø§Ø³ØªØ§Ù†
            if (!provinceSelect.value) {
                showStatus('Ù„Ø·ÙØ§Ù‹ Ø§Ø³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                return false;
            }
            
            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨
            if (!marketerNameSelect.value) {
                showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                return false;
            }
            
            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
            if (currentRequestType === 'start') {
                if (!businessTypeSelect.value) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
                
                if (!businessNameInput.value.trim()) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
            } else if (currentRequestType === 'end') {
                // Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ (Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø² Ù„ÛŒØ³Øª ÛŒØ§ ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ)
                if (businessNameEndSelect.value === "manual") {
                    if (!manualBusinessNameInput.value.trim()) {
                        showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                        return false;
                    }
                } else if (!businessNameEndSelect.value) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
                
                if (!managerNameInput.value.trim()) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
                
                // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„
                if (!validatePhone()) {
                    showStatus('Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø¨Ø§ÛŒØ¯ 11 Ø±Ù‚Ù…ÛŒ Ùˆ ÙÙ‚Ø· Ø´Ø§Ù…Ù„ Ø¹Ø¯Ø¯ Ø¨Ø§Ø´Ø¯', 'error');
                    return false;
                }
                
                if (!vendorSoftwareSelect.value) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± ÙØ¹Ù„ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
                
                // Ø§Ú¯Ø± "Ø³Ø§ÛŒØ±" Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ùˆ ÙÛŒÙ„Ø¯ Ù†Ø§Ù… Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø®Ø§Ù„ÛŒ Ø§Ø³Øª
                if (vendorSoftwareSelect.value === "Ø³Ø§ÛŒØ±" && !otherSoftwareNameInput.value.trim()) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
                
                if (!negotiationResultSelect.value) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ù†ØªÛŒØ¬Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
                
                // Ø§Ú¯Ø± "Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„" Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¯Ù„ÛŒÙ„ Ø¨Ø§ÛŒØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯
                if (negotiationResultSelect.value === "Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„" && !disinterestReasonSelect.value) {
                    showStatus('Ù„Ø·ÙØ§Ù‹ Ø¯Ù„ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
                    return false;
                }
            }
            
            return true;
        }
        
        // Ø«Ø¨Øª Ø­Ø¶ÙˆØ± Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ú¯ÙˆÚ¯Ù„ ÙØ±Ù… Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Fetch API
        submitBtn.addEventListener('click', async () => {
            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙØ±Ù…
            if (!validateForm()) {
                return;
            }
            
            if (!locationData) {
                showStatus('Ù„Ø·ÙØ§Ù‹ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯', 'error');
                return;
            }
            
            showStatus('Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ù‡ Ø³Ø±ÙˆØ±...', 'processing');
            submitBtn.disabled = true;
            
            try {
                // Ø³Ø§Ø®Øª URL Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ú¯ÙˆÚ¯Ù„ ÙØ±Ù…
                const formUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSfd8rOHSxu0dhU0jrJMYsh9G8KI_tjEYqYGJvb4jyUFQ8YMaw/formResponse';
                
                // Ø³Ø§Ø®Øª Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ÛŒ
                const params = new URLSearchParams();
                params.append('entry.56597741', provinceSelect.value); // Ø§Ø³ØªØ§Ù†
                params.append('entry.400737767', negotiationType); // Ù†ÙˆØ¹ Ù…Ø°Ø§Ú©Ø±Ù‡ (Ù‡Ù…ÛŒØ´Ù‡ Ø­Ø¶ÙˆØ±ÛŒ)
                
                // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
                if (currentRequestType === 'start') {
                    params.append('entry.367554561', businessTypeSelect.value); // Ù†ÙˆØ¹ Ù…Ø¬Ù…ÙˆØ¹Ù‡
                    params.append('entry.475047817', businessNameInput.value.trim()); // Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡
                    params.append('entry.145698669', 'Ø´Ø±ÙˆØ¹ Ù…Ø°Ø§Ú©Ø±Ù‡'); // Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
                    params.append('entry.1236889664', marketerNameSelect.value); // Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨

                } else if (currentRequestType === 'end') {
                    // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ø² Ù„ÛŒØ³Øª ÛŒØ§ ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ
                    let businessName;
                    if (businessNameEndSelect.value === "manual") {
                        businessName = manualBusinessNameInput.value.trim();
                    } else {
                        businessName = businessNameEndSelect.value;
                    }
                    
                    params.append('entry.475047817', businessName); // Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡
                    params.append('entry.632146796', managerNameInput.value.trim()); // Ù†Ø§Ù… Ù…Ø¯ÛŒØ±ÛŒØª
                    params.append('entry.1208820368', managerPhoneInput.value.trim()); // Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ù…Ø¯ÛŒØ±ÛŒØª
                    
                    // Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± ÙØ¹Ù„ÛŒ - Ø§Ú¯Ø± "Ø³Ø§ÛŒØ±" Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ØŒ Ø§Ø² ÙÛŒÙ„Ø¯ Ø¯ÛŒÚ¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯
                    let softwareValue = vendorSoftwareSelect.value;
                    if (vendorSoftwareSelect.value === "Ø³Ø§ÛŒØ±") {
                        softwareValue = otherSoftwareNameInput.value.trim();
                    }
                    params.append('entry.2112447463', softwareValue); // Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± ÙØ¹Ù„ÛŒ
                    
                    params.append('entry.573458779', negotiationResultSelect.value); // Ù†ØªÛŒØ¬Ù‡ Ù…Ø°Ø§Ú©Ø±Ù‡
                    params.append('entry.145698669', 'Ù¾Ø§ÛŒØ§Ù† Ù…Ø°Ø§Ú©Ø±Ù‡'); // Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
                    params.append('entry.1236889664', marketerNameSelect.value); // Ù†Ø§Ù… Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨
                    
                    // Ø§Ø±Ø³Ø§Ù„ Ø¯Ù„ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„ Ø§Ú¯Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
                    if (negotiationResultSelect.value === "Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„" && disinterestReasonSelect.value) {
                        params.append('entry.1245998613', disinterestReasonSelect.value); // Ø¯Ù„ÛŒÙ„ Ø¹Ø¯Ù… ØªÙ…Ø§ÛŒÙ„
                    }
                }
                
                // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÙˆÙ‚Ø¹ÛŒØª (Ù‡Ù…ÛŒØ´Ù‡ Ø­Ø¶ÙˆØ±ÛŒ)
                params.append('entry.231075143', locationData.latitude); // Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
                params.append('entry.882095543', locationData.longitude); // Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
                params.append('entry.555772584', locationData.accuracy); // Ø¯Ù‚Øª
                
                // Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª POST
                await fetch(formUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    body: params.toString(),
                    mode: 'no-cors'
                });
                
                // Ù†Ù…Ø§ÛŒØ´ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù…ÙˆÙÙ‚ÛŒØª
                showSuccessAnimation();
                
                // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
                showStatus('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!', 'success');
                
                // Ø±ÛŒØ³Øª ÙØ±Ù…
                setTimeout(() => {
                    resetForm();
                }, 2000);
                
            } catch (error) {
                showStatus('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª: ' + error.message, 'error');
                submitBtn.disabled = false;
                console.error('Ø®Ø·Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„:', error);
            }
        });
        
        // Ø±ÛŒØ³Øª ÙØ±Ù… Ù¾Ø³ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙÙ‚
        function resetForm() {
            provinceSelect.selectedIndex = 0;
            marketerNameSelect.selectedIndex = 0;
            businessTypeSelect.selectedIndex = 0;
            businessNameInput.value = '';
            businessNameEndSelect.innerHTML = '<option value="" selected disabled>Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ø§Ø³ØªØ§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>';
            manualBusinessNameInput.value = '';
            manualInputContainer.style.display = 'none';
            managerNameInput.value = '';
            managerPhoneInput.value = '';
            vendorSoftwareSelect.selectedIndex = 0;
            otherSoftwareContainer.style.display = 'none';
            otherSoftwareNameInput.value = '';
            negotiationResultSelect.selectedIndex = 0;
            disinterestReasonContainer.style.display = 'none';
            disinterestReasonSelect.selectedIndex = 0;
            
            submitBtn.disabled = true;
            getLocationBtn.disabled = false;
            getLocationBtn.innerHTML = '<i class="fas fa-location-arrow"></i> Ø¯Ø±ÛŒØ§ÙØª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ';
            
            // ØªÙˆÙ‚Ù Ø¯ÙˆØ±Ø¨ÛŒÙ†
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                cameraFeed.style.display = 'none';
                document.querySelector('.camera-placeholder').style.display = 'block';
                startCameraBtn.disabled = false;
                startCameraBtn.innerHTML = '<i class="fas fa-video"></i> ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†';
                captureBtn.disabled = true;
            }
            
            // Ø±ÛŒØ³Øª Ù…ÙˆÙ‚Ø¹ÛŒØª
            locationData = null;
            latitudeValue.textContent = '---';
            longitudeValue.textContent = '---';
            accuracyValue.textContent = '---';
            
            // Ø±ÛŒØ³Øª Ù†ÙˆØ¹ Ø¯Ø±Ø®ÙˆØ§Ø³Øª
            startBtn.classList.remove('active');
            endBtn.classList.remove('active');
            currentRequestType = null;
            updateFormFields();
        }
        
        // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… ÙˆØ¶Ø¹ÛŒØª
        function showStatus(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = 'status-message ' + type;
            statusMessage.style.display = 'block';
            
            setTimeout(() => {
                statusMessage.style.display = 'none';
            }, 5000);
        }
        
        // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù…ÙˆÙÙ‚ÛŒØª
        function showSuccessAnimation() {
            // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¯Ú©Ù…Ù‡
            submitBtn.classList.add('success-animation');
            setTimeout(() => {
                submitBtn.classList.remove('success-animation');
            }, 2000);
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÙØªÛŒ
            createConfetti();
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÙØªÛŒ
        function createConfetti() {
            confettiElement.style.display = 'block';
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = '50%';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10px';
                confetti.style.opacity = Math.random() + 0.5;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confettiElement.appendChild(confetti);
                
                // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø³Ù‚ÙˆØ·
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'cubic-bezier(0,0.8,1,0.2)'
                });
                
                // Ø­Ø°Ù Ø§Ù„Ù…Ø§Ù† Ù¾Ø³ Ø§Ø² Ù¾Ø§ÛŒØ§Ù† Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                animation.onfinish = () => {
                    confetti.remove();
                    if (confettiElement.children.length === 0) {
                        confettiElement.style.display = 'none';
                    }
                };
            }
        }
        
        // Ø§Ø¬Ø±Ø§ÛŒ ØªØ§Ø¨Ø¹ toggleSystemState Ø¯Ø± Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ Ùˆ Ù‡Ø± Ø¯Ù‚ÛŒÙ‚Ù‡
        window.addEventListener('load', () => {
            // Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ø± Ø¯Ù‚ÛŒÙ‚Ù‡
            setInterval(toggleSystemState, 60000);
            toggleSystemState();
        });
        
        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ù„ Ø³ÛŒØ³ØªÙ… Ø¯Ø± Ø³Ø§Ø¹Ø§Øª ØªØ¹Ø·ÛŒÙ„
        function toggleSystemState() {
            const isDisabled = isInDisabledTime();
            
            if (isDisabled) {
                systemDisabledOverlay.style.display = 'flex';
                
                // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ØªÙ…Ø§Ù… Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ùˆ Ø¹Ù†Ø§ØµØ± ÙˆØ±ÙˆØ¯ÛŒ
                provinceSelect.disabled = true;
                marketerNameSelect.disabled = true;
                businessTypeSelect.disabled = true;
                businessNameInput.disabled = true;
                managerNameInput.disabled = true;
                managerPhoneInput.disabled = true;
                vendorSoftwareSelect.disabled = true;
                negotiationResultSelect.disabled = true;
                disinterestReasonSelect.disabled = true;
                startBtn.disabled = true;
                endBtn.disabled = true;
                startCameraBtn.disabled = true;
                captureBtn.disabled = true;
                getLocationBtn.disabled = true;
                submitBtn.disabled = true;
                rotateCameraBtn.disabled = true;
                
                // ØªÙˆÙ‚Ù Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø§Ú¯Ø± ÙØ¹Ø§Ù„ Ø¨Ø§Ø´Ø¯
                if (stream) {
                    stream.getTracks().forEach(track => track.stop());
                    cameraFeed.style.display = 'none';
                    document.querySelector('.camera-placeholder').style.display = 'block';
                }
            } else {
                systemDisabledOverlay.style.display = 'none';
                
                // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¹Ù†Ø§ØµØ±
                provinceSelect.disabled = false;
                marketerNameSelect.disabled = false;
                businessTypeSelect.disabled = false;
                businessNameInput.disabled = false;
                managerNameInput.disabled = false;
                managerPhoneInput.disabled = false;
                vendorSoftwareSelect.disabled = false;
                negotiationResultSelect.disabled = false;
                disinterestReasonSelect.disabled = false;
                startBtn.disabled = false;
                endBtn.disabled = false;
                startCameraBtn.disabled = false;
                captureBtn.disabled = true;
                getLocationBtn.disabled = false;
                submitBtn.disabled = true;
                rotateCameraBtn.disabled = false;
            }
        }
        
        // Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø¬ÛŒÙ…ÛŒÙ„
        function handleCredentialResponse(response) {
            const responsePayload = JSON.parse(atob(response.credential.split('.')[1]));
            
            user = {
                name: responsePayload.name,
                email: responsePayload.email,
                picture: responsePayload.picture
            };
            
            userEmail.textContent = user.email;
            userInfo.style.display = 'block';
            document.querySelector('.g_id_signin').style.display = 'none';
        }
        
        // --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª ---
        const GAS_URL = 'https://script.google.com/macros/s/AKfycbyYyDDbd7bSeVvshB8PwFH4ZIU7ws0J1T_UOpxfvhZd9-VQEQwlNxYjKS_tiWGCPUNAjg/exec';
        
        // Collator Ø¨Ø±Ø§ÛŒ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø­Ø±ÙˆÙ ÙØ§Ø±Ø³ÛŒ
        const faCollator = new Intl.Collator('fa', { sensitivity: 'base', numeric: true });
        
        // --- ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ---
        function normalizeGASResponse(raw) {
            if (Array.isArray(raw)) {
                return raw;
            }
        
            if (raw && typeof raw === 'object') {
                const ok =
                    raw.success === true ||
                    (typeof raw.status === 'string' && raw.status.toLowerCase() === 'success');
        
                if (ok && Array.isArray(raw.data)) {
                    return raw.data;
                }
            }
        
            throw new Error('Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª');
        }
        
        function fillBusinessSelect(selectEl, businessNames) {
            selectEl.innerHTML = '<option value="" selected disabled>Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>';
        
            businessNames.forEach(name => {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                selectEl.appendChild(option);
            });
        
            // Ú¯Ø²ÛŒÙ†Ù‡ Â«ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒÂ»
            const manualOption = document.createElement('option');
            manualOption.value = 'manual';
            manualOption.textContent = 'ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡';
            selectEl.appendChild(manualOption);
        }
        
        // --- ØªØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† ---
        async function loadBusinessNames(province = 'all') {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout
        
            try {
                showStatus('Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§...', 'processing');
        
                const params = new URLSearchParams({ province });
                const url = `${GAS_URL}?${params.toString()}`;
        
                const response = await fetch(url, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' },
                    signal: controller.signal
                });
        
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
        
                const raw = await response.json();
                console.log('Ø¯Ø§Ø¯Ù‡ Ø¯Ø±ÛŒØ§ÙØªÛŒ Ø®Ø§Ù…:', raw);
        
                const items = normalizeGASResponse(raw);
                let businessNames = items
                    .map(i => i && i.name)
                    .filter(Boolean);
        
                // Ø­Ø°Ù Ù…ÙˆØ§Ø±Ø¯ ØªÚ©Ø±Ø§Ø±ÛŒ Ùˆ Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ
                businessNames = Array.from(new Set(businessNames)).sort(faCollator.compare);
        
                if (businessNames.length === 0) {
                    throw new Error('Ù‡ÛŒÚ† Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø§Ø³ØªØ§Ù† ÛŒØ§ÙØª Ù†Ø´Ø¯');
                }
        
                businessList = businessNames;
                fillBusinessSelect(businessNameEndSelect, businessNames);
        
                showStatus('Ù„ÛŒØ³Øª Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯', 'success');
            } catch (error) {
                console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª:', error);
                showStatus('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒÙ‡Ø§: ' + error.message, 'error');
        
                businessNameEndSelect.innerHTML = `
                    <option value="" selected disabled>Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒØ³Øª</option>
                    <option value="manual">ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡</option>
                `;
            } finally {
                clearTimeout(timeoutId);
            }
        }
        
        // Ù†Ù…Ø§ÛŒØ´ ÙÛŒÙ„Ø¯ ÙˆØ±ÙˆØ¯ Ø¯Ø³ØªÛŒ Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡
        businessNameEndSelect.addEventListener('change', function() {
            if (this.value === "manual") {
                manualInputContainer.style.display = 'block';
                manualBusinessNameInput.value = '';
                manualBusinessNameInput.focus();
                usingManualInput = true;
            } else {
                manualInputContainer.style.display = 'none';
                usingManualInput = false;
            }
        });
        
        // Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªØºÛŒÛŒØ± Ø§Ø³ØªØ§Ù†
        provinceSelect.addEventListener('change', function() {
            updateBusinessNames();
        });
        
        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        window.onload = function() {
            // ØªÙ†Ø¸ÛŒÙ… callback Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ú¯ÙˆÚ¯Ù„
            window.handleCredentialResponse = handleCredentialResponse;
        };
    </script>
</body>
</html>
